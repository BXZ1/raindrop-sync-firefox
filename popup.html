<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raindrop.io Sync</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="brand">
                <img src="icon.png" class="brand-icon" alt="Logo">
                <span>Raindrop.io Sync</span>
                <a id="versionTag" class="version-tag" target="_blank" title="View Changelog"></a>
            </div>
            <button id="settingsToggle" class="settings-btn" title="Settings">
                ‚öôÔ∏è
            </button>
        </header>

        <main>
            <!-- Settings Panel -->
            <div id="settingsPanel" class="settings-panel">
                <div class="form-group">
                    <label for="apiToken">API Token</label>
                    <input type="password" id="apiToken" placeholder="Paste your Test Token here">
                    <small id="tokenStatus" class="helper-text"></small>
                </div>
                <div class="form-group">
                    <label for="targetFolder">Target Firefox Folder</label>
                    <input type="text" id="targetFolder" placeholder="Imported from Raindrop"
                        value="Imported from Raindrop">
                    <small class="helper-text">‚ö†Ô∏è Content will be overwritten.</small>
                </div>
                <div class="form-group">
                    <label for="syncInterval">Auto-Sync Frequency</label>
                    <select id="syncInterval" class="sync-select">
                        <option value="0">üö´ Off (Manual)</option>
                        <option value="120">‚è∞ 2 Hours</option>
                        <option value="360">‚è∞ 6 Hours</option>
                        <option value="720">‚è∞ 12 Hours</option>
                        <option value="1440">üìÖ Daily</option>
                        <option value="4320">üìÖ Every 3 Days</option>
                        <option value="10080">üìÜ Weekly</option>
                    </select>
                </div>
            </div>

            <!-- Import Method Selection -->
            <label>Import Method</label>
            <div class="method-selector">
                <div class="method-card selected" data-method="collection">
                    <span class="method-icon">üìÅ</span>
                    <span class="method-name">By Collection</span>
                </div>
                <div class="method-card" data-method="tag">
                    <span class="method-icon">üè∑Ô∏è</span>
                    <span class="method-name">By Tag</span>
                </div>
            </div>

            <!-- Dynamic Input Area -->
            <div class="input-area">
                <div class="form-group" id="collectionInputGroup">
                    <label for="configValueCollection">Collection Name(s)</label>
                    <input type="text" id="configValueCollection" placeholder="Bookmarks, Tech Tips, Work"
                        value="Bookmarks">
                    <small class="input-helper">Multiple collections allowed (e.g. Bookmarks, Tech Tips)</small>
                </div>
                <div class="form-group" id="tagInputGroup" style="display: none;">
                    <label for="configValueTag">Tag Name(s)</label>
                    <input type="text" id="configValueTag" placeholder="firefox, tech tips, news" value="firefox">
                    <small class="input-helper">Multiple tags allowed (e.g. firefox, tech tips)</small>
                </div>

                <!-- Flatten Option -->
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="flattenImport">
                        <span>Merge into single folder</span>
                    </label>
                    <button type="button" class="help-btn" id="flattenHelpBtn" title="Click for more info">?</button>
                    <div class="tooltip" id="flattenTooltip">
                        <strong>Checked:</strong> All bookmarks are imported directly into your target folder
                        without folders/subfolders.<br><br>
                        <strong>Unchecked:</strong> Preserves original folders/subfolders structure
                    </div>
                </div>
            </div>

            <!-- Action Area -->
            <button id="importBtn" class="import-btn">
                <span>Sync Now</span>
            </button>
            <p id="lastSyncMsg" class="last-sync">Last Sync: Never</p>

            <!-- Status Feedback -->
            <div id="statusMsg" class="status-msg hidden">
                <div class="status-icon"></div>
                <span class="status-text"></span>
            </div>
        </main>

        <footer>
            <div class="footer-bottom">
                <div class="author-area">
                    <span>By</span>
                    <a href="https://github.com/BXZ1" target="_blank" class="author-name">BXZ1</a>
                </div>
                <div class="footer-actions">
                    <a href="https://github.com/BXZ1/raindrop-sync-firefox" target="_blank" class="support-chip"
                        title="Star on GitHub">
                        <img src="https://cdn.simpleicons.org/github/64748b" class="chip-icon" alt="GitHub">
                        <span class="chip-label">Star</span>
                        <span id="starCount" class="star-count"></span>
                    </a>
                    <a href="https://addons.mozilla.org/en-US/firefox/addon/raindrop-sync-firefox/" target="_blank"
                        class="support-chip" title="Rate on Firefox">
                        <img src="https://cdn.simpleicons.org/firefoxbrowser/64748b" class="chip-icon" alt="Firefox">
                        <span class="chip-label">Rate</span>
                    </a>
                    <a href="https://github.com/BXZ1/raindrop-sync-firefox/discussions" target="_blank"
                        class="support-chip" title="Send Feedback">
                        <img src="https://cdn.simpleicons.org/theconversation/64748b" class="chip-icon" alt="Feedback">
                        <span class="chip-label">Feedback</span>
                    </a>
                </div>
            </div>
        </footer>
    </div>
    <script src="popup.js"></script>
</body>

</html>